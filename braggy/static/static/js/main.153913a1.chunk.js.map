{"version":3,"sources":["imageview/image-download.worker.js","counter/actions.js","file-browser/file-browser-api.js","imageview/imageview-api.js","app/redux-store.js","app/root-reducer.js","file-browser/FileBrowser.jsx","imageview/imageviewlib.js","imageview/ImageView.jsx","app/Drawer.jsx","app/Main.jsx","serviceWorker.js","index.jsx"],"names":["module","exports","Worker","__webpack_require__","p","INCREMENT_REQUESTED","INCREMENT","DECREMENT_REQUESTED","DECREMENT","initialState","count","isIncrementing","isDecrementing","actions","state","arguments","length","undefined","type","Object","objectSpread","SET_CONTENT","SET_LOADING","SET_SELECTED_FILE","INIT","SET_RANGE","API_URL","files","selectedFile","loading","pageSize","currentRange","file_browser_api","action","path","op","map","val","listDirSuccess","data","dispatch","initSuccess","setLoading","selectFile","setRange","listDirRequest","axios","post","concat","then","response","catch","error","initFileBrowserRequest","ADD_IMAGE","SET_CURRENT_IMAGE","SET_AND_ADD_IMAGE","SET_OPTION","SET_RAW_DATA","images","currentImage","imageScale","options","showResolution","autoScale","aggDownload","imageview_api","defineProperty","hdr","raw","option","value","addImage","width","height","setAndAddImage","setOption","setCurrentImage","setRawData","fetchImageSuccess","fetchImageRequest","getState","imageView","responseType","resp","img","window","URL","createObjectURL","imgWorker","postMessage","history","createHistory","middleware","thunk","routerMiddleware","logger","composedEnhancers","compose","apply","applyMiddleware","store","createStore","combineReducers","router","connectRouter","counter","fileBrowser","mm","require","FileBrowser","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","filterTerm","listItemOnClick","bind","assertThisInitialized","filterInputOnChange","fileData","_this$props","onFileClick","isLeaf","fpath","_this2","_this$props2","downloadedFiles","classes","filter","file","s","term","res","isMatch","text","slice","react_default","a","createElement","ListItem_default","button","key","selected","onClick","ListItemIcon_default","className","downloadedItem","item","Image_default","Folder_default","ListItemText_default","primary","CircularProgress_default","disableShrink","progress","e","setState","target","_this$props3","incEnabled","decEnabled","fileNavContainer","Button_default","size","disabled","margin","_this$props4","List_default","ListSubheader_default","component","style","background","Input_default","placeholder","input","inputProps","aria-label","onChange","scrollContainer","busyIndicator","showFiles","fileNavigation","React","Component","connect","_ref","bindActionCreators","FileBrowserAPI","withStyles","theme","overflow","marginLeft","marginBottom","spacing","unit","textAlign","marginRight","display","top","bottom","color","withTheme","createResolutionRings","pixiCircle","PIXI","el","lineStyle","endFill","push","dr","dd","wavelength","ddr","resRings","r","dhalf","Math","PI","sin","atan","resolutionRings","detector_radius","detector_distance","forEach","ring","rx","pxypm","drawCircle","beam_ocx","beam_ocy","t","toFixed","toString","fontFamily","fontSize","fill","align","x","y","anchor","set","alpha","ImageView","renderImageData","renderResolutionRings","onMouseWheel","onMouseOver","onMouseOut","onMouseMove","canvasContainerRef","createRef","infoDisplayDivRef","pixiapp","transparent","roundPixels","currentImg","container","scale","mouseOverEvent","w","current","clientWidth","h","clientHeight","view","addEventListener","appendChild","renderer","autoResize","resize","prevProps","prevImage","prevShowResolution","requestAnimationFrame","removeEventListener","wheelDelta","event","dragging","dragStartPos","getLocalPosition","parent","dragStartOx","dragStartOy","imgData","newPosition","braggy_hdr","pos","floor","grey","sqrt","resolutionAt","img_width","pxxpm","img_height","originalEvent","offsetY","left","offsetX","innerHTML","sprite","_img","ratio","screen","_this3","stage","removeChildren","from","interactive","createImage","texture","baseTexture","on","imgLoaded","zIndex","onDragStart","onDragEnd","addChild","removeChild","_this$container","beamCenter","createBeamCenter","rings","toConsumableArray","sortChildren","id","ref","imageViewContainer","infoDisplay","position","padding","borderRadius","ResponsiveDrawer","side","open","progDownload","drawer","optionsForm","FormLabel_default","FormGroup_default","FormControlLabel_default","control","Checkbox_default","label","checked","Divider_default","file_browser_FileBrowser","root","CssBaseline_default","Drawer_default","variant","paper","drawerPaper","content","imageview_ImageView","compress","ImageViewAPI","appBar","menuButton","breakpoints","up","drawerWidth","right","toolbar","mixins","Main","Route","exact","Drawer","Boolean","location","hostname","match","socket","io","document","domain","port","console","log","worker","onmessage","querySelector","render","es","esm","app_Main","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.153913a1.chunk.js","sourcesContent":["module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"2bb43da623c9e2f18afd.worker.js\");\n};","// Actions\nexport const INCREMENT_REQUESTED = 'counter/INCREMENT_REQUESTED';\nexport const INCREMENT = 'counter/INCREMENT';\nexport const DECREMENT_REQUESTED = 'counter/DECREMENT_REQUESTED';\nexport const DECREMENT = 'counter/DECREMENT';\n\nconst initialState = {\n  count: 0,\n  isIncrementing: false,\n  isDecrementing: false\n};\n\n\n// Reducer\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case INCREMENT_REQUESTED:\n      return {\n        ...state,\n        isIncrementing: true\n      };\n\n    case INCREMENT:\n      return {\n        ...state,\n        count: state.count + 1,\n        isIncrementing: !state.isIncrementing\n      };\n\n    case DECREMENT_REQUESTED:\n      return {\n        ...state,\n        isDecrementing: true\n      };\n\n    case DECREMENT:\n      return {\n        ...state,\n        count: state.count - 1,\n        isDecrementing: !state.isDecrementing\n      };\n\n    default:\n      return state;\n  }\n};\n\n\n// Action creators\nexport function increment() {\n  return (dispatch) => {\n    dispatch({\n      type: INCREMENT_REQUESTED\n    });\n\n    dispatch({\n      type: INCREMENT\n    });\n  };\n}\n\nexport function incrementAsync() {\n  return (dispatch) => {\n    dispatch({\n      type: INCREMENT_REQUESTED\n    });\n\n    return setTimeout(() => {\n      dispatch({\n        type: INCREMENT\n      });\n    }, 3000);\n  };\n}\n\nexport function decrement() {\n  return (dispatch) => {\n    dispatch({\n      type: DECREMENT_REQUESTED\n    });\n\n    dispatch({\n      type: DECREMENT\n    });\n  };\n}\n\nexport function decrementAsync() {\n  return (dispatch) => {\n    dispatch({\n      type: DECREMENT_REQUESTED\n    });\n\n    return setTimeout(() => {\n      dispatch({\n        type: DECREMENT\n      });\n    }, 3000);\n  };\n}\n","import axios from 'axios';\n\n// Actions\nexport const SET_CONTENT = 'file-browser/SET_CONTENT';\nexport const SET_LOADING = 'file-browser/SET_LOADING';\nexport const SET_SELECTED_FILE = 'file-browser/SET_SELECTED_FILE';\nexport const INIT = 'file-browser/INIT';\nexport const SET_RANGE = 'file-browser/SET_RANGE';\n\nconst API_URL = '/api/file-browser';\n\nconst initialState = {\n  files: [],\n  selectedFile: '',\n  loading: false,\n  pageSize: 10,\n  currentRange: [0, 14]\n};\n\n\n// Reducer\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case SET_CONTENT:\n      return {\n        ...state,\n        files: action.files\n      };\n    case SET_LOADING:\n      return {\n        ...state,\n        loading: action.loading\n      };\n    case SET_SELECTED_FILE:\n      return {\n        ...state,\n        selectedFile: action.path\n      };\n    case SET_RANGE: {\n      let currentRange = [];\n\n      if (action.op === 'inc') {\n        currentRange = state.currentRange.map(val => val + state.pageSize);\n      } else {\n        currentRange = state.currentRange.map(val => val - state.pageSize);\n      }\n\n      return {\n        ...state,\n        currentRange\n      };\n    }\n    case INIT:\n      return {\n        ...state,\n        files: action.files\n      };\n    default:\n      return state;\n  }\n};\n\n\n// Action creators\nexport function listDirSuccess(data) {\n  return (dispatch) => {\n    dispatch({\n      type: SET_CONTENT,\n      files: data\n    });\n  };\n}\n\nexport function initSuccess(data) {\n  return (dispatch) => {\n    dispatch({\n      type: INIT,\n      files: data\n    });\n  };\n}\n\n\nexport function setLoading(loading) {\n  return (dispatch) => {\n    dispatch({\n      type: SET_LOADING,\n      loading\n    });\n  };\n}\n\n\nexport function selectFile(path) {\n  return (dispatch) => {\n    dispatch({\n      type: SET_SELECTED_FILE,\n      path\n    });\n  };\n}\n\n\nexport function setRange(op = 'inc') {\n  return (dispatch) => {\n    dispatch({\n      type: SET_RANGE,\n      op\n    });\n  };\n}\n\n\n// REST API\nexport function listDirRequest(path) {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    axios.post(`${API_URL}/list-dir`, { path })\n      .then((response) => {\n        dispatch(listDirSuccess(response.data));\n        dispatch(setLoading(false));\n      })\n      .catch((error) => {\n        throw (error);\n      })\n      .catch(() => {\n        dispatch(setLoading(false));\n      });\n  };\n}\n\nexport function initFileBrowserRequest() {\n  return (dispatch) => {\n    dispatch(setLoading(true));\n    axios.post(`${API_URL}/init`)\n      .then((response) => {\n        dispatch(initSuccess(response.data));\n      })\n      .catch((error) => {\n        throw (error);\n      })\n      .then(() => {\n        dispatch(setLoading(false));\n      });\n  };\n}\n","import axios from 'axios';\n\n// Actions\nexport const INIT = 'imageview/INIT';\nexport const ADD_IMAGE = 'imageview/ADD_IMAGE';\nexport const SET_CURRENT_IMAGE = 'imageview/SET_CURRENT_IMAGE';\nexport const SET_AND_ADD_IMAGE = 'imageview/SET_AND_ADD_IMAGE';\nexport const SET_OPTION = 'imageview/SET_OPTION';\nexport const SET_RAW_DATA = 'imageview/SET_RAW_DATA';\n\nconst API_URL = '/api/imageview';\n\nconst initialState = {\n  images: {},\n  currentImage: '',\n  imageScale: 1,\n  options: {\n    showResolution: true,\n    autoScale: true,\n    aggDownload: true\n  }\n};\n\n\n// Reducer\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case INIT:\n      return {\n        ...initialState\n      };\n    case SET_AND_ADD_IMAGE:\n      return {\n        ...state,\n        images: {\n          ...state.images,\n          [action.path]: {\n            data: action.data,\n            hdr: action.hdr,\n            raw: null\n          }\n        },\n        currentImage: action.path\n      };\n    case ADD_IMAGE:\n      return {\n        ...state,\n        images: {\n          ...state.images,\n          [action.path]: {\n            data: action.data,\n            hdr: action.hdr,\n            raw: null\n          }\n        }\n      };\n    case SET_RAW_DATA:\n      return {\n        ...state,\n        images: {\n          ...state.images,\n          [action.path]: {\n            ...state.images[action.path],\n            raw: action.data\n          }\n        }\n      };\n    case SET_CURRENT_IMAGE:\n      return {\n        ...state,\n        currentImage: action.path\n      };\n    case SET_OPTION:\n      return {\n        ...state,\n        options: { ...state.options, [action.option]: action.value }\n      };\n    default:\n      return state;\n  }\n};\n\n\n// Action creators\nexport function addImage(data) {\n  return (dispatch) => {\n    dispatch({\n      type: ADD_IMAGE,\n      path: data.path,\n      data: data.data,\n      width: data.width,\n      height: data.height\n    });\n  };\n}\n\n\nexport function setAndAddImage(data) {\n  return (dispatch) => {\n    dispatch({\n      type: SET_AND_ADD_IMAGE,\n      path: data.path,\n      data: data.data,\n      hdr: data.hdr\n    });\n  };\n}\n\nexport function setOption(option, value) {\n  return (dispatch) => {\n    dispatch({\n      type: SET_OPTION,\n      option,\n      value\n    });\n  };\n}\n\n\nexport function setCurrentImage(path) {\n  return (dispatch) => {\n    dispatch({\n      type: SET_CURRENT_IMAGE,\n      path\n    });\n  };\n}\n\nexport function setRawData(path, data) {\n  return (dispatch) => {\n    dispatch({\n      type: SET_RAW_DATA,\n      path,\n      data\n    });\n  };\n}\n\n\nexport function fetchImageSuccess(data) {\n  return (dispatch) => {\n    dispatch(setAndAddImage(data));\n  };\n}\n\n// REST API\nexport function fetchImageRequest(path) {\n  return (dispatch, getState) => {\n    const { images } = getState().imageView;\n\n    if (!(path in images)) {\n      axios.post(`${API_URL}/preload`, { path })\n        .then((response) => {\n          const hdr = response.data;\n\n          axios.post('/api/imageview/image', { path }, { responseType: 'blob' })\n            .then((resp) => {\n              const img = window.URL.createObjectURL(resp.data);\n              dispatch(fetchImageSuccess({ path, data: img, hdr }));\n              window.imgWorker.postMessage({ path });\n            });\n\n          // const img = `${API_URL}/image?path=${window.encodeURIComponent(path)}`;\n        })\n        .catch((error) => {\n          throw (error);\n        });\n    } else {\n      dispatch(setCurrentImage(path));\n    }\n  };\n}\n","/* eslint-disable no-underscore-dangle */\n\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { routerMiddleware } from 'connected-react-router';\nimport logger from 'redux-logger';\nimport thunk from 'redux-thunk';\nimport createHistory from 'history/createBrowserHistory';\nimport createRootReducer from './root-reducer';\n\nexport const history = createHistory();\n\nconst initialState = {};\nconst enhancers = [];\n\n// Logger MUST BE the last middleware\nconst middleware = [\n  thunk,\n  routerMiddleware(history),\n  logger\n];\n\nif (process.env.NODE_ENV === 'development') {\n  const devToolsExtension = window.__REDUX_DEVTOOLS_EXTENSION__;\n\n  if (typeof devToolsExtension === 'function') {\n    enhancers.push(devToolsExtension());\n  }\n}\n\nconst composedEnhancers = compose(\n  applyMiddleware(...middleware),\n  ...enhancers\n);\n\n\nconst store = createStore(\n  createRootReducer(history),\n  initialState,\n  composedEnhancers\n);\n\nexport default store;\n","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport counter from '../counter/actions';\nimport fileBrowser from '../file-browser/file-browser-api';\nimport imageView from '../imageview/imageview-api';\n\nexport default function createRootReducer(history) {\n  return combineReducers({\n    router: connectRouter(history),\n    counter,\n    fileBrowser,\n    imageView\n  });\n}\n","import React from 'react';\nimport List from '@material-ui/core/List';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Button from '@material-ui/core/Button';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport ImageIcon from '@material-ui/icons/Image';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Input from '@material-ui/core/Input';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\n\nimport * as FileBrowserAPI from './file-browser-api';\n\nconst mm = require('micromatch');\n\nconst styles = theme => ({\n  scrollContainer: {\n    overflow: 'auto'\n  },\n  input: {\n    marginLeft: '1px',\n    marginBottom: theme.spacing.unit * 2\n  },\n  fileNavContainer: {\n    textAlign: 'center'\n  },\n  progress: {\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    display: 'block',\n    top: '50%',\n    bottom: '50%'\n  },\n  downloadedItem: {\n    color: '#307fd6'\n  },\n  item: {\n  }\n});\n\n\nfunction filter(s, term) {\n  let res = true;\n\n  if (term) {\n    res = mm.isMatch(s, `${term}*`);\n  }\n\n  return res;\n}\n\nclass FileBrowser extends React.Component {\n  state = {\n    filterTerm: ''\n  };\n\n  constructor(props) {\n    super(props);\n    this.listItemOnClick = this.listItemOnClick.bind(this);\n    this.filterInputOnChange = this.filterInputOnChange.bind(this);\n  }\n\n  listItemOnClick(fileData) {\n    const { listDirRequest, onFileClick, selectFile } = this.props;\n\n    if (fileData.isLeaf) {\n      selectFile(fileData.fpath);\n      onFileClick(fileData.fpath);\n    } else {\n      listDirRequest(fileData.fpath);\n    }\n  }\n\n  showFiles() {\n    const {\n      files,\n      selectedFile,\n      currentRange,\n      downloadedFiles,\n      classes\n    } = this.props;\n    const { filterTerm } = this.state;\n\n    return files\n      .filter(file => filter(file.text, filterTerm))\n      .slice(currentRange[0], currentRange[1])\n      .map(file => (\n        <ListItem\n          button\n          key={file.text}\n          selected={file.fpath === selectedFile}\n          onClick={() => this.listItemOnClick(file)}\n        >\n          <ListItemIcon\n            className={file.fpath in downloadedFiles ? classes.downloadedItem : classes.item}\n          >\n            {file.isLeaf ? <ImageIcon /> : <FolderIcon />}\n          </ListItemIcon>\n          <ListItemText primary={file.text} />\n        </ListItem>));\n  }\n\n  busyIndicator() {\n    const { classes } = this.props;\n\n    return (<CircularProgress disableShrink className={classes.progress} />);\n  }\n\n  filterInputOnChange(e) {\n    this.setState({ filterTerm: e.target.value });\n  }\n\n  fileNavigation() {\n    const {\n      files,\n      pageSize,\n      currentRange,\n      setRange,\n      classes\n    } = this.props;\n\n    let incEnabled = true;\n    let decEnabled = true;\n\n    if (files.length > pageSize && currentRange[0] === 0) {\n      decEnabled = false;\n    } else if (files.length > pageSize && currentRange[1] > files.length) {\n      incEnabled = false;\n    } else if (files.length < pageSize) {\n      decEnabled = false;\n      incEnabled = false;\n    }\n\n    return (\n      <div className={classes.fileNavContainer}>\n        <Button size=\"small\" disabled={!decEnabled} className={classes.margin} onClick={() => setRange('dec')}>\n          PREV\n        </Button>\n        <Button size=\"small\" disabled={!incEnabled} className={classes.margin} onClick={() => setRange('inc')}>\n          NEXT\n        </Button>\n      </div>);\n  }\n\n  render() {\n    const { classes, loading } = this.props;\n\n    return (\n      <div>\n        <List>\n          <ListSubheader component=\"div\" style={{ background: '#FFF' }}>\n            <div>\n              <Input\n                placeholder=\"Search\"\n                className={classes.input}\n                inputProps={{ 'aria-label': 'Filter' }}\n                onChange={this.filterInputOnChange}\n              />\n            </div>\n          </ListSubheader>\n          <div className={classes.scrollContainer}>\n            { loading ? this.busyIndicator() : this.showFiles()}\n          </div>\n        </List>\n        { this.fileNavigation() }\n      </div>\n    );\n  }\n}\n\n\nfunction mapStateToProps({ fileBrowser }) {\n  return {\n    files: fileBrowser.files,\n    loading: fileBrowser.loading,\n    selectedFile: fileBrowser.selectedFile,\n    currentRange: fileBrowser.currentRange,\n    pageSize: fileBrowser.pageSize\n  };\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(FileBrowserAPI, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n  withStyles(styles, { withTheme: true })(FileBrowser)\n);\n","import * as PIXI from 'pixi.js';\n\nexport function resolutionRings(dr, dd, wavelength, ddr = 0.03, sr = 0.01) {\n  const resRings = [];\n\n  for (let r = sr; r <= dr; r += ddr) {\n    const dhalf = r * Math.PI;\n    const res = wavelength / (2 * Math.sin(0.5 * Math.atan(dhalf / dd)));\n    resRings.push({ r, res });\n  }\n\n  return resRings;\n}\n\n\nexport function resolutionAt(x, y, dd, wavelength) {\n  const dhalf = Math.sqrt(x * x + y * y) * Math.PI;\n  return wavelength / (2 * Math.sin(0.5 * Math.atan(dhalf / dd)));\n}\n\n\nexport function createImage(data) {\n  const img = new PIXI.Sprite.from(data);\n\n  img.interactive = true;\n  img.anchor.set(0.5);\n\n  return img;\n}\n\n\nexport function createBeamCenter(hdr) {\n  const pixiCircle = new PIXI.Graphics();\n  pixiCircle.lineStyle(1, 0xFF00FF, 0.2);\n  pixiCircle.drawCircle(hdr.beam_ocx, hdr.beam_ocy, 3);\n  pixiCircle.endFill();\n  return pixiCircle;\n}\n\n\nexport function createResolutionRings(hdr) {\n  const pixiCircle = new PIXI.Graphics();\n  const el = [];\n  pixiCircle.lineStyle(1, 0xFF00FF, 0.2);\n  pixiCircle.endFill();\n\n  el.push(pixiCircle);\n\n  const rings = resolutionRings(hdr.detector_radius, hdr.detector_distance, hdr.wavelength);\n\n  rings.forEach((ring) => {\n    const rx = ring.r * hdr.pxypm;\n\n    pixiCircle.drawCircle(hdr.beam_ocx, hdr.beam_ocy, rx);\n\n    const t = new PIXI.Text(`${ring.res.toFixed(2).toString()} A`,\n      {\n        fontFamily: 'Arial',\n        fontSize: 45,\n        fill: 0xff1010,\n        align: 'center'\n      });\n\n    t.x = hdr.beam_ocx + rx + 20;\n    t.y = hdr.beam_ocy;\n    t.anchor.set(0.5);\n    t.alpha = 0.7;\n\n    el.push(t);\n  });\n\n  return el;\n}\n","import React from 'react';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport * as PIXI from 'pixi.js';\n\nimport {\n  resolutionAt,\n  createImage,\n  createBeamCenter,\n  createResolutionRings\n} from './imageviewlib';\n\nconst styles = theme => ({\n  imageViewContainer: {\n    position: 'absolute',\n    height: '100%',\n    width: '100%'\n  },\n  infoDisplay: {\n    position: 'absolute',\n    background: 'rgba(0, 0, 0, 0.6)',\n    padding: theme.spacing.unit,\n    borderRadius: '4px',\n    color: 'rgba(255, 255, 255, 1)',\n    display: 'none'\n  }\n});\n\n\nclass ImageView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.renderImageData = this.renderImageData.bind(this);\n    this.renderResolutionRings = this.renderResolutionRings.bind(this);\n    this.onMouseWheel = this.onMouseWheel.bind(this);\n    this.onMouseOver = this.onMouseOver.bind(this);\n    this.onMouseOut = this.onMouseOut.bind(this);\n    this.onMouseMove = this.onMouseMove.bind(this);\n\n    this.canvasContainerRef = React.createRef();\n    this.infoDisplayDivRef = React.createRef();\n    this.pixiapp = new PIXI.Application({ transparent: true, roundPixels: true });\n    this.currentImg = null;\n    this.container = null;\n    this.scale = 1;\n    this.mouseOverEvent = null;\n  }\n\n  componentDidMount() {\n    const w = this.canvasContainerRef.current.clientWidth;\n    const h = this.canvasContainerRef.current.clientHeight;\n    this.pixiapp.view.addEventListener('mousewheel', this.onMouseWheel, false);\n    this.canvasContainerRef.current.appendChild(this.pixiapp.view);\n\n    this.pixiapp.renderer.autoResize = true;\n    this.pixiapp.renderer.resize(w, h);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { currentImage, showResolution } = this.props;\n    const prevImage = prevProps.currentImage;\n    const prevShowResolution = prevProps.showResolution;\n\n    // Only load image data if image changed.\n    if (currentImage !== prevImage) {\n      window.requestAnimationFrame(() => (this.renderImageData()));\n    }\n\n    if (prevShowResolution !== showResolution) {\n      window.requestAnimationFrame(() => (this.renderResolutionRings()));\n    }\n  }\n\n  componentWillUnmount() {\n    this.pixiapp.view.removeEventListener(this.onMouseWheel);\n  }\n\n  onMouseWheel(e) {\n    if (this.mouseOverEvent) {\n      this.scale += (e.wheelDelta * 0.001);\n      this.currentImg.scale.x = this.scale;\n      this.currentImg.scale.y = this.scale;\n      this.container.scale.x = this.scale;\n      this.container.scale.y = this.scale;\n    }\n  }\n\n  onMouseOver(e) {\n    this.mouseOverEvent = e;\n  }\n\n  onMouseOut() {\n    this.mouseOverEvent = null;\n    this.infoDisplayDivRef.current.style.display = 'none';\n  }\n\n  onDragStart(event) {\n    this.dragging = true;\n    this.dragStartPos = event.data.getLocalPosition(this.parent);\n    this.dragStartOx = this.dragStartPos.x - this.x;\n    this.dragStartOy = this.dragStartPos.y - this.y;\n\n    return event;\n  }\n\n  onDragEnd() {\n    this.alpha = 1;\n    this.dragging = false;\n    // set the interaction data to null\n    this.data = null;\n  }\n\n  onMouseMove(event) {\n    const { images, currentImage } = this.props;\n    const imgData = images[currentImage];\n\n    if (this.currentImg.dragging) {\n      const newPosition = event.data.getLocalPosition(this.currentImg.parent);\n      this.currentImg.x = newPosition.x - this.currentImg.dragStartOx;\n      this.currentImg.y = newPosition.y - this.currentImg.dragStartOy;\n      this.container.x = newPosition.x - this.currentImg.dragStartOx;\n      this.container.y = newPosition.y - this.currentImg.dragStartOy;\n    }\n\n    if (this.mouseOverEvent) {\n      const hdr = imgData.hdr.braggy_hdr;\n      const pos = event.data.getLocalPosition(this.currentImg);\n      const x = Math.floor((this.currentImg.width / this.currentImg.scale.x) / 2 + pos.x);\n      const y = Math.floor((this.currentImg.height / this.currentImg.scale.y) / 2 + pos.y);\n      const w = this.currentImg.width / this.currentImg.scale.x;\n      const grey = imgData.raw ? imgData.raw[Math.floor(y * w + x)] : '?';\n      const cx = ((hdr.img_width / 2 + hdr.beam_ocx) - x) / hdr.pxxpm;\n      const cy = ((hdr.img_height / 2 + hdr.beam_ocy) - y) / hdr.pxypm;\n      const res = resolutionAt(cx, cy, hdr.detector_distance, hdr.wavelength).toFixed(2);\n      this.infoDisplayDivRef.current.style.top = `${event.data.originalEvent.offsetY + 15}px`;\n      this.infoDisplayDivRef.current.style.left = `${event.data.originalEvent.offsetX + 15}px`;\n      this.infoDisplayDivRef.current.style.display = 'block';\n      this.infoDisplayDivRef.current.innerHTML = `X:${x} Y:${y} <br /> Intensity: ${grey} <br /> Resolution ${res}`;\n    }\n  }\n\n  imgLoaded(sprite, _img) {\n    const img = _img;\n    const { autoScale } = this.props;\n    const ratio = this.pixiapp.screen.height / _img.height;\n\n    if (autoScale) {\n      img.scale.x = ratio;\n      img.scale.y = ratio;\n    }\n  }\n\n  renderImageData() {\n    const { images, currentImage } = this.props;\n    const imgData = images[currentImage];\n    const { pixiapp } = this;\n\n    pixiapp.stage.removeChildren();\n\n    const img = createImage(imgData.data);\n    this.currentImg = img;\n\n    img.texture.baseTexture.on('loaded', e => (this.imgLoaded(e, img)));\n    img.x = pixiapp.screen.width / 2;\n    img.y = pixiapp.screen.height / 2;\n    img.zIndex = 1;\n\n    img.on('pointerover', this.onMouseOver);\n    img.on('pointerout', this.onMouseOut);\n    img.on('pointerdown', this.onDragStart);\n    img.on('pointerup', this.onDragEnd);\n    img.on('pointerupoutside', this.onDragEnd);\n    img.on('pointermove', this.onMouseMove);\n\n    pixiapp.stage.addChild(img);\n    this.renderResolutionRings();\n  }\n\n  renderResolutionRings() {\n    const { images, currentImage, showResolution } = this.props;\n    const imgData = images[currentImage];\n    const hdr = imgData.hdr.braggy_hdr;\n    const { pixiapp } = this;\n\n    if (this.container) {\n      pixiapp.stage.removeChild(this.container);\n    }\n\n    this.container = new PIXI.Container();\n    this.container.x = this.currentImg.x;\n    this.container.y = this.currentImg.y;\n    this.container.scale.x = this.scale;\n    this.container.scale.y = this.scale;\n    this.container.zIndex = 100;\n\n    if (hdr.beam_ocx !== undefined && showResolution) {\n      const beamCenter = createBeamCenter(hdr);\n      const rings = createResolutionRings(hdr);\n      this.container.addChild(beamCenter);\n      this.container.addChild(...rings);\n    }\n\n    pixiapp.stage.addChild(this.container);\n    pixiapp.stage.sortChildren();\n  }\n\n  render() {\n    const { classes } = this.props;\n\n    return (\n      <div>\n        <div\n          id=\"imageview-container\"\n          ref={this.canvasContainerRef}\n          className={classes.imageViewContainer}\n        >\n          <div ref={this.infoDisplayDivRef} className={classes.infoDisplay} />\n        </div>\n      </div>\n    );\n  }\n}\n\n\nfunction mapStateToProps({ imageView }) {\n  return {\n    images: imageView.images,\n    currentImage: imageView.currentImage,\n    autoScale: imageView.options.autoScale,\n    showResolution: imageView.options.showResolution\n  };\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({}, dispatch);\n}\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n  withStyles(styles, { withTheme: true })(ImageView)\n);\n","import React from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport FormLabel from '@material-ui/core/FormLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport FileBrowser from '../file-browser/FileBrowser';\nimport ImageView from '../imageview/ImageView';\n\nimport * as ImageViewAPI from '../imageview/imageview-api';\n\nconst drawerWidth = 240;\n\nconst styles = theme => ({\n  root: {\n    display: 'flex'\n  },\n  drawer: {\n    width: drawerWidth\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    background: '#ffffff'\n  },\n  menuButton: {\n    marginRight: 20,\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  },\n  content: {\n    padding: theme.spacing.unit * 3\n  },\n  optionsForm: {\n    padding: theme.spacing.unit * 2\n  },\n  imageViewContainer: {\n    position: 'absolute',\n    left: `${drawerWidth + 10}px`,\n    right: '10px',\n    top: '10px',\n    bottom: '10px',\n    overflow: 'hidden'\n  },\n  toolbar: theme.mixins.toolbar\n});\n\n\nclass ResponsiveDrawer extends React.Component {\n  toggleDrawer(side, open) {\n    return () => this.setState({ [side]: open });\n  }\n\n  render() {\n    const {\n      classes,\n      fetchImageRequest,\n      autoScale,\n      progDownload,\n      showResolution,\n      setOption,\n      images\n    } = this.props;\n\n    const drawer = (\n      <div>\n        <div className={classes.optionsForm}>\n          <FormLabel component=\"legend\">Options</FormLabel>\n          <FormGroup>\n            <FormControlLabel\n              control={(<Checkbox color=\"primary\" />)}\n              label=\"Auto scale\"\n              checked={autoScale}\n              onChange={(e) => { setOption('autoScale', e.target.checked); }}\n            />\n            <FormControlLabel\n              control={(<Checkbox color=\"primary\" />)}\n              label=\"Progressive download\"\n              checked={progDownload}\n              onChange={(e) => { setOption('progDownload', e.target.checked); }}\n            />\n            <FormControlLabel\n              control={(<Checkbox color=\"primary\" />)}\n              label=\"Show resolution\"\n              checked={showResolution}\n              onChange={(e) => { setOption('showResolution', e.target.checked); }}\n            />\n          </FormGroup>\n        </div>\n        <Divider />\n        <List>\n          <FileBrowser\n            onFileClick={fetchImageRequest}\n            downloadedFiles={images}\n          />\n        </List>\n      </div>\n    );\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Drawer\n          className={classes.drawer}\n          variant=\"permanent\"\n          classes={{\n            paper: classes.drawerPaper\n          }}\n          open\n        >\n          {drawer}\n        </Drawer>\n        <main className={classes.content}>\n          <div className={classes.imageViewContainer}>\n            <ImageView />\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ imageView }) {\n  return {\n    compress: imageView.options.compress,\n    autoScale: imageView.options.autoScale,\n    progDownload: imageView.options.progDownload,\n    showResolution: imageView.options.showResolution,\n    images: imageView.images\n  };\n}\n\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators(ImageViewAPI, dispatch);\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(\n  withStyles(styles, { withTheme: true })(ResponsiveDrawer)\n);\n","import React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\n// import ImageView from '../imageview/imageview-widget';\nimport Drawer from './Drawer';\n\nimport './app.css';\n\nclass Main extends Component {\n  render() {\n    return (\n      <div className=\"app\">\n        <div>\n          <Route exact path=\"/\" component={Drawer} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Main;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-console */\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport io from 'socket.io-client';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ConnectedRouter } from 'connected-react-router';\nimport store, { history } from './app/redux-store';\nimport Main from './app/Main';\nimport * as serviceWorker from './serviceWorker';\n\nimport { initFileBrowserRequest } from './file-browser/file-browser-api';\nimport * as ImageViewAPI from './imageview/imageview-api';\nimport Worker from './imageview/image-download.worker';\n\n\nimport './index.css';\n\nconst socket = io.connect(`http://${document.domain}:${window.location.port}`, { path: '/api/socket.io/' });\n\nstore.dispatch(initFileBrowserRequest());\n\nsocket.on('connect', () => (console.log('connect')));\n\nsocket.on('show-image', (data) => {\n  store.dispatch(ImageViewAPI.fetchImageRequest(data.path));\n});\n\nsocket.on('disconnect', () => (console.log('disconnect')));\n\nconst worker = new Worker();\nwindow.imgWorker = worker;\n\nworker.onmessage = function (e) {\n  store.dispatch(ImageViewAPI.setRawData(e.data.path, e.data.data));\n};\n\nconst target = document.querySelector('#root');\n\nrender(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      <Main />\n    </ConnectedRouter>\n  </Provider>,\n  target\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}